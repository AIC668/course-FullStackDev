# Dockerfile.dev
# 用 LTS 版本，兼容性与安全性更好
FROM node:20

WORKDIR /app

# 先只拷贝依赖清单，利用缓存层
COPY package*.json ./

# 安装依赖（含 devDependencies）
RUN npm install

# 再拷贝项目源码（被 compose 的挂载覆盖也没关系）
COPY . .

# 文档化暴露端口
EXPOSE 5000

# 默认入口也可以写在这里，但我们让 compose 覆盖：
# CMD ["npm", "run", "dev"]
